<!DOCTYPE html>
<html>
<head>
<title>Damage Calculator</title>
<style>
/* --- CSS Styles --- */
body {
  font-family: sans-serif;
  background-color: #f4f4f4;
  margin: 0;
  padding: 20px;
  display: flex;
  justify-content: center;
  align-items: flex-start;
  min-height: 100vh;
}

.div-calculator {
  background-color: #fff;
  padding: 20px;
  border-radius: 8px;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
  width: 400px;
}

h1 {
  text-align: center;
  color: #333;
  margin-bottom: 20px;
}

label {
  display: block;
  margin-bottom: 5px;
  color: #555;
}

input[type="text"],
select {
  width: calc(100% - 12px);
  padding: 10px;
  margin-bottom: 15px;
  border: 1px solid #ddd;
  border-radius: 4px;
  box-sizing: border-box;
}

button {
  color: white;
  padding: 12px 20px;
  border: none;
  border-radius: 4px;
  cursor: pointer;
  width: 100%;
  font-size: 16px;
  margin-top: 10px;
}

button:hover {
  background-color: #45a049;
}

.calculate-button {
  background-color: #4CAF50;
}

.calculate-button:hover {
  background-color: #45a049;
}

#damageResult,
#scientificResult,
#wordResult,
#equationResult {
  margin-top: 20px;
  padding: 15px;
  background-color: #e9f7ef;
  border: 1px solid #bce0c8;
  border-radius: 4px;
  color: #333;
}

.additional-input-group {
  margin-bottom: 10px;
  display: flex;
  align-items: center;
}

.modifier-indicator {
  display: inline-block;
  margin-left: 5px;
  font-weight: bold;
  font-size: 14px;
  color: #555;
  width: 15px;
  text-align: center;
}

.modifier-toggle-button {
  display: inline-block;
  background-color: #ddd;
  color: #333;
  padding: 2px 5px;
  border: 1px solid #ccc;
  border-radius: 4px;
  cursor: pointer;
  font-size: 12px;
  margin-left: 5px;
  width: 25px;
  text-align: center;
}

.modifier-toggle-button:hover {
  background-color: #ccc;
}

.remove-button {
  display: inline-block;
  background-color: #dc3545;
  color: white;
  padding: 2px 5px;
  border: none;
  border-radius: 4px;
  cursor: pointer;
  font-size: 12px;
  margin-left: 5px;
  width: 25px;
  text-align: center;
}

.remove-button:hover {
  background-color: #c82333;
}

.add-button {
  background-color: #007bff;
  color: white;
  padding: 5px 10px;
  border: none;
  border-radius: 4px;
  cursor: pointer;
  font-size: 14px;
  margin-left: 5px;
}

.add-button:hover {
  background-color: #0056b3;
}
</style>
<script>
// --- Helper Functions ---

/**
 * Parses input to handle scientific notation and empty strings.
 * @param {string} input The input string to parse.
 * @returns {BigInt} The parsed number as a BigInt.
 */
function parseInput(input) {
  if (input.includes("e")) {
    let parts = input.split("e");
    return BigInt(parseFloat(parts[0]) * Math.pow(10, parseInt(parts[1])));
  } else {
    const parsed = BigInt(input || 0);
    if (isNaN(Number(parsed))){
        return 0n;
    }
    return parsed;
  }
}

/**
 * Converts a number to scientific notation.
 * @param {BigInt} number The number to convert.
 * @returns {string} The number in scientific notation.
 */
function toScientificNotation(number) {
  let numStr = number.toString();
  if (numStr.length <= 15) {
    return numStr;
  }
  let firstDigit = numStr[0];
  let decimalPart = numStr.substring(1, 15);
  let exponent = numStr.length - 1;
  return firstDigit + "." + decimalPart + "e+" + exponent;
}

/**
 * Converts a number to its word representation.
 * @param {BigInt} number The number to convert.
 * @returns {string} The number in word format.
 */
function numberToWords(number) {
  let numStr = number.toString();
  if (numStr.length <= 15) {
    return numStr;
  }

  let numBigInt = BigInt(number);
  if (numBigInt === 0n) {
    return "Zero";
  }

  const units = ["", "Thousand", "Million", "Billion", "Trillion", "Quadrillion", "Quintillion", "Sextillion", "Septillion", "Octillion", "Nonillion", "Decillion", "Undecillion", "Duodecillion", "Tredecillion", "Quattuordecillion", "Quindecillion", "Sexdecillion", "Septendecillion", "Octodecillion", "Novemdecillion", "Vigintillion"];

  let parts = [];
  let i = 0;
  while (numBigInt > 0n) {
    let chunk = numBigInt % 1000n;
    if (chunk > 0n) {
      parts.unshift(`${convertChunkToWords(chunk)} ${units[i]}`);
    }
    numBigInt = numBigInt / 1000n;
    i++;
  }
  return parts.join(" ").trim();
}
