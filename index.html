<!DOCTYPE html>
<html>
<head>
<title>Damage Calculator</title>
<style>
body {
  font-family: sans-serif;
  background-color: #f4f4f4;
  margin: 0;
  padding: 20px;
  display: flex;
  justify-content: center;
  align-items: flex-start;
  min-height: 100vh;
}

.div-calculator {
  background-color: #fff;
  padding: 20px;
  border-radius: 8px;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
  width: 400px;
}

h1 {
  text-align: center;
  color: #333;
  margin-bottom: 20px;
}

label {
  display: block;
  margin-bottom: 5px;
  color: #555;
}

input[type="text"], select {
  width: calc(100% - 12px);
  padding: 10px;
  margin-bottom: 15px;
  border: 1px solid #ddd;
  border-radius: 4px;
  box-sizing: border-box;
}

button {
  background-color: #4CAF50;
  color: white;
  padding: 12px 20px;
  border: none;
  border-radius: 4px;
  cursor: pointer;
  width: 100%;
  font-size: 16px;
  margin-top: 10px;
}

button:hover {
  background-color: #45a049;
}

#damageResult, #scientificResult, #wordResult {
  margin-top: 20px;
  padding: 15px;
  background-color: #e9f7ef;
  border: 1px solid #bce0c8;
  border-radius: 4px;
  color: #333;
}
</style>
<script>
function calculateDamage() {
  let damageType = document.getElementById("damageTypeSelector").value;
  let baseDamage = parseInput(document.getElementById("baseDamage").value);
  let totalDamage = baseDamage;

  if (damageType === "chakra") {
    let chakraMax = parseInput(document.getElementById("chakraMax").value);
    let damagePerChakra = parseInput(document.getElementById("damagePerChakra").value);
    let chakraUsed = chakraMax - 1n;

    if (isNaN(Number(chakraMax)) || isNaN(Number(baseDamage)) || isNaN(Number(damagePerChakra))) {
      alert("Please enter valid numbers.");
      return;
    }

    let damageIncrease = chakraUsed * damagePerChakra;
    totalDamage += damageIncrease;
  }

  let baseMultiplier = parseInput(document.getElementById("baseMultiplier").value);
  if (baseMultiplier !== 0n) {
    totalDamage *= baseMultiplier;
  }

  let additionalDamage = parseInput(document.getElementById("additionalDamage").value);
  if (additionalDamage !== 0n) {
    if (document.getElementById("damageModifier").value === "add") {
      totalDamage += additionalDamage;
    } else {
      totalDamage *= additionalDamage;
    }
  }

  document.getElementById("damageResult").innerHTML = "<p>Total Damage: " + totalDamage + "</p>";
  document.getElementById("scientificResult").innerHTML = "<p>Scientific Notation: " + toScientificNotation(totalDamage) + "</p>";
  document.getElementById("wordResult").innerHTML = "<p>Word Format: " + numberToWords(totalDamage) + "</p>";
}

function parseInput(input) {
  if (input.includes("e")) {
    let parts = input.split("e");
    return BigInt(parseFloat(parts[0]) * Math.pow(10, parseInt(parts[1])));
  } else {
    return BigInt(input || 0); // Return 0 if input is empty
  }
}

function toScientificNotation(number) {
    let numStr = number.toString();
    if(numStr.length <= 15){
        return number.toString();
    }
    let firstDigit = numStr[0];
    let decimalPart = numStr.substring(1, 15);
    let exponent = numStr.length - 1;
    return firstDigit + "." + decimalPart + "e+" + exponent;
}

function numberToWords(number) {
    let numStr = number.toString();
    if(numStr.length <= 15){
        return number.toString();
    }

    let num = BigInt(number);
    if(num == 0n){
        return "Zero";
    }

    const units = ["", "Thousand", "Million", "Billion", "Trillion", "Quadrillion", "Quintillion", "Sextillion", "Septillion", "Octillion", "Nonillion", "Decillion", "Undecillion", "Duodecillion", "Tredecillion", "Quattuordecillion", "Quindecillion", "Sexdecillion", "Septendecillion", "Octodecillion", "Novemdecillion", "Vigintillion"];

    let parts = [];
    let i = 0;
    while (num > 0n) {
        let chunk = num % 1000n;
        if (chunk > 0n) {
            parts.unshift(`${convertChunkToWords(chunk)} ${units[i]}`);
        }
        num = num / 1000n;
        i++;
    }
    return parts.join(" ").trim();
}

function convertChunkToWords(chunk) {
    const ones = ["", "One", "Two", "Three", "Four", "Five", "Six", "Seven", "Eight", "Nine"];
    const tens = ["", "Ten", "Twenty", "Thirty", "Forty", "Fifty", "Sixty", "Seventy", "Eighty", "Ninety"];
    const teens = ["Ten", "Eleven", "Twelve", "Thirteen", "Fourteen", "Fifteen", "Sixteen", "Seventeen", "Eighteen", "Nineteen"];

    let words = [];
    let hundred = Math.floor(chunk / 100n);
    let remainder = chunk % 100n;
    let ten = Math.floor(remainder / 10n);
    let one = remainder % 10n;

    if (hundred > 0n) {
        words.push(ones[hundred], "Hundred");
    }
    if (ten === 1n) {
        words.push(teens[one]);
    } else if (ten > 1n) {
        words.push(tens[ten], ones[one]);
    } else if (one > 0n) {
        words.push(ones[one]);
    }

    return words.filter(word => word !== "").join(" ");
}

function toggleChakraInputs() {
  let damageType = document.getElementById("damageTypeSelector").value;
  let chakraInputs = document.getElementById("chakraInputs");
  chakraInputs.style.display = damageType === "chakra" ? "block" : "none";
}
</script>
</head>
<body onload="toggleChakraInputs()">
  <div class="div-calculator">
    <h1>Damage Calculator</h1>

    <label for="damageTypeSelector">Damage Type:</label>
    <select id="damageTypeSelector" onchange="toggleChakraInputs()">
      <option value="chakra">Chakra Damage</option>
      <option value="ki">Ki Damage</option>
    </select> <br>

    <div id="chakraInputs">
      <label for="chakraMax">Chakra Max:</label>
      <input type="text" id="chakraMax"> <br>

      <label for="damagePerChakra">Damage Per Chakra:</label>
      <input type="text" id="damagePerChakra"> <br>
    </div>

    <label for="baseDamage">Base Damage:</label>
    <input type="text" id="baseDamage"> <br>

    <label for="baseMultiplier">Base Multiplier:</label>
    <input type="text" id="baseMultiplier"> <br>

    <label for="additionalDamage">Additional Damage/Multiplier:</label>
    <input type="text" id="additionalDamage"> <br>

    <label for="damageModifier">Modifier Type:</label>
    <select id="damageModifier">
